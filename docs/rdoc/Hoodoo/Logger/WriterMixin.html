<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Hoodoo::Logger::WriterMixin - Hoodoo</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/navigation.js" defer></script>
<script src="../../js/search.js" defer></script>
<script src="../../js/search_index.js" defer></script>
<script src="../../js/searcher.js" defer></script>
<script src="../../js/darkfish.js" defer></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    
<!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    <li ><a href="#method-i-report">#report</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Hoodoo::Logger::WriterMixin">
  <h1 id="module-Hoodoo::Logger::WriterMixin" class="module">
    module Hoodoo::Logger::WriterMixin
  </h1>

  <section class="description">
    
<p>This mixin is used by <a href="FastWriter.html"><code>Hoodoo::Logger::FastWriter</code></a> and <a href="SlowWriter.html"><code>Hoodoo::Logger::SlowWriter</code></a>. See those two classes for details.</p>

  </section>

  <section id="5Buntitled-5D" class="documentation-section">





     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-report" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">report</span><span
            class="method-args">( log_level, component, code, data )</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p><a href="FastWriter.html"><code>Hoodoo::Logger::FastWriter</code></a> and <a href="SlowWriter.html"><code>Hoodoo::Logger::SlowWriter</code></a> subclasses implement this method.</p>

<p>Write a structured log message. Writers sending data somewhere with no structure support will need to serialize/flatten the message; others should retain data structures like hashes or arrays.</p>

<p>The <a href="WriterMixin.html#method-i-report"><code>report</code></a> method is only invoked if the logging threshold level of the owning logger is set to an equal or lower level. Implementations do not, therefore, need to check this themselves.</p>
<dl class="rdoc-list note-list"><dt><code>log_level</code>
<dd>
<p>Log level as a symbol - one of, from most trivial to most severe, <code>:debug</code>, <code>:info</code>, <code>:warn</code> or <code>:error</code>.</p>
</dd><dt><code>component</code>
<dd>
<p>Component - for example, a resource name for a specific service implementation, ‘Middleware’ for <a href="../../Hoodoo.html"><code>Hoodoo</code></a> itself, or some other name you think is useful. String or Symbol.</p>
</dd><dt><code>code</code>
<dd>
<p>Component-defined code. Think of this in a manner similar to platform error codes, appearing after the “.”; messages related to the same thing should share the same code. The intent is to produce log data that someone can filter on code to get useful information about that specific aspect of a service implementation’s behaviour.</p>
</dd><dt><code>data</code>
<dd>
<p>A Hash containing the level, component and code-dependent payload data to be logged. Converted to a string with <code>inspect</code> for flat output use in an unstructured context.</p>
</dd></dl>

          <div class="method-source-code" id="report-source">
            <pre><span class="ruby-comment"># File lib/hoodoo/logger/writer_mixin.rb, line 47</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">report</span>( <span class="ruby-identifier">log_level</span>, <span class="ruby-identifier">component</span>, <span class="ruby-identifier">code</span>, <span class="ruby-identifier">data</span> )
  <span class="ruby-identifier">raise</span>( <span class="ruby-string">&#39;Subclasses must implement #report&#39;</span> )
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.4.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

