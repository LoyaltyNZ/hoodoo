<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module ApiTools - ApiTools</title>

<link href="./fonts.css" rel="stylesheet">
<link href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/navigation.js"></script>
<script src="./js/search_index.js"></script>
<script src="./js/search.js"></script>
<script src="./js/searcher.js"></script>
<script src="./js/darkfish.js"></script>


<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    
  </div>
</nav>

<main role="main" aria-labelledby="module-ApiTools">
  <h1 id="module-ApiTools" class="module">
    module ApiTools
  </h1>

  <section class="description">
    <dl class="rdoc-list note-list"><dt>File
<dd>
<p>documented_array.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p><a
href="ApiTools/Data/DocumentedObject.html">ApiTools::Data::DocumentedObject</a>
DSL field implementation allowing for documented Types references.
Instantiated via <a
href="ApiTools/Data/DocumentedDSL.html#method-i-array">ApiTools::Data::DocumentedDSL#array</a>.</p>
</dd></dl>
<hr>

<pre>23-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>documented_dsl.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p><a
href="ApiTools/Presenters/BaseDSL.html">ApiTools::Presenters::BaseDSL</a>
extension mixin used to allow a class to describe a well defined,
documented Type or Resource which may refer to another documented Type.
Such classes can then be used for JSON validation. Include <a
href="ApiTools/Presenters/BaseDSL.html">ApiTools::Presenters::BaseDSL</a>
first, then this module.</p>
</dd></dl>
<hr>

<pre>29-Sep-2014 (ADH): Split out from +documented_object.rb+.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>documented_hash.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p><a
href="ApiTools/Data/DocumentedObject.html">ApiTools::Data::DocumentedObject</a>
DSL field implementation allowing for documented Types references.
Instantiated via <a
href="ApiTools/Data/DocumentedDSL.html#method-i-hash">ApiTools::Data::DocumentedDSL#hash</a>.</p>
</dd></dl>
<hr>

<pre>07-Nov-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>documented_object.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p><a href="ApiTools/Presenters/Object.html">ApiTools::Presenters::Object</a>
extension used to allow a class to describe a well defined, documented Type
or Resource which may refer to another documented Type. Such classes can
then be used for JSON validation.</p>
</dd></dl>
<hr>

<pre>22-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>documented_presenter.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Base class for predefined Type and Resource definitions that inherit the <a
href="ApiTools/Presenters/BasePresenter.html">ApiTools::Presenters::BasePresenter</a>
methods for parsing, rendering and validation.</p>
</dd></dl>
<hr>

<pre>26-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>account.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Account&#39;.</p>
</dd></dl>
<hr>

<pre>07-Nov-2014 (DAM): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>balance.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Balance&#39;.</p>
</dd></dl>
<hr>

<pre>07-Nov-2014 (DAM): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>currency.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Currency&#39;.</p>
</dd></dl>
<hr>

<pre>23-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>errors.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Errors&#39;.</p>
</dd></dl>
<hr>

<pre>23-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>product.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Involvement&#39;.</p>
</dd></dl>
<hr>

<pre>29-Oct-2014 (JML): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>member.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Member&#39;.</p>
</dd></dl>
<hr>

<pre>07-Nov-2014 (DAM): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>product.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Outlet&#39;.</p>
</dd></dl>
<hr>

<pre>29-Oct-2014 (JML): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>product.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Participant&#39;.</p>
</dd></dl>
<hr>

<pre>23-Oct-2014 (JML): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>product.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Product&#39;.</p>
</dd></dl>
<hr>

<pre>23-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>product.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Programme&#39;.</p>
</dd></dl>
<hr>

<pre>23-Oct-2014 (JML): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>purchase.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Purchase&#39;.</p>
</dd></dl>
<hr>

<pre>23-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>token.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Token&#39;.</p>
</dd></dl>
<hr>

<pre>07-Nov-2014 (DAM): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>transaction.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Transaction&#39;.</p>

<pre>Please note that the name &#39;Transaction&#39; is kind of a place 
holder until (if ever) we decide on something better</pre>
</dd></dl>
<hr>

<pre>13-Nov-2014 (DAM): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>version.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Version&#39;.</p>
</dd></dl>
<hr>

<pre>03-Oct-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>purchase.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Resource &#39;Voucher&#39;.</p>
</dd></dl>
<hr>

<pre>11-Nov-2014 (JML): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>basket.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Type &#39;Basket&#39;.</p>
</dd></dl>
<hr>

<pre>22-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>basket_item.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Type &#39;BasketItem&#39;.</p>
</dd></dl>
<hr>

<pre>22-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>calculator_common.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Type &#39;CalculatorCommon&#39;.</p>
</dd></dl>
<hr>

<pre>05-Nov-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>calculator_configuration.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Type &#39;CalculatorConfiguration&#39;.</p>
</dd></dl>
<hr>

<pre>05-Nov-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>constraints.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>DRY up length-related constraints by defining constant values here.</p>
</dd></dl>
<hr>

<pre>05-Nov-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>currency.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Type &#39;Currency&#39;.</p>
</dd></dl>
<hr>

<pre>23-Sep-2014 (ADH): Created.
09-Oct-2014 (ADH): Updated for Preview Release 8.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>currency_amount.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Type &#39;CurrencyAmount&#39;.</p>
</dd></dl>
<hr>

<pre>22-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>currency_earner.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Type &#39;CurrencyEarner&#39;.</p>
</dd></dl>
<hr>

<pre>05-Nov-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>error_primitive.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Type &#39;ErrorPrimitive&#39;.</p>
</dd></dl>
<hr>

<pre>22-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>product.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Type &#39;Product&#39;.</p>
</dd></dl>
<hr>

<pre>22-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>voucher_earner.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define documented Platform API Type &#39;VoucherEarner&#39;.</p>
</dd></dl>
<hr>

<pre>05-Nov-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>error_descriptions.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Error descriptions - provide a DSL and a container for a list of known
error codes and associated data. Defines a platform API&#39;s
<code>platform</code> and <code>generic</code> domain codes by default.
Services can declare additional errors.</p>
</dd></dl>
<hr>

<pre>22-Sep-2014 (ADH): Created.
09-Oct-2014 (ADH): Updated for Preview Release 8.
16-Oct-2014 (TC):  Added session error</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>errors.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>A collection of error messages, starting empty, with one or more messages
added to it as errors are encountered by some processing task. <a
href="ApiTools/Errors.html">Errors</a> are added according to codes
described by <a
href="ApiTools/ErrorDescriptions.html">ApiTools::ErrorDescriptions</a>
instances.</p>
</dd></dl>
<hr>

<pre>22-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>tags.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p><a
href="ApiTools/Presenters/BaseDSL.html">ApiTools::Presenters::BaseDSL</a>
field implementation which supports a field defined to contain a string of
comma separated tags.</p>
</dd></dl>
<hr>

<pre>30-Sep-2014 (ADH): Created.
31-Oct-2014 (ADH): Moved to generic presenter layer from
                   documented data layer.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>documented_uuid.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p><a
href="ApiTools/Presenters/BaseDSL.html">ApiTools::Presenters::BaseDSL</a>
field implementation which supports a field defined to contain a <a
href="ApiTools/UUID.html">UUID</a> that (optionally) can be verified as
referring to a specific other Resource.</p>
</dd></dl>
<hr>

<pre>22-Sep-2014 (ADH): Created.
31-Oct-2014 (ADH): Moved to generic presenter layer from
                   documented data layer.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>service_application.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define a class that service authors subclass and use to declare the
component interfaces within the service via a very small DSL.</p>

<p>This class is passed to Rack and treated like an endpoint Rack application,
though the service middleware in practice does not pass on calls using the
Rack interface; it uses the custom calls exposed by <a
href="ApiTools/ServiceImplementation.html">ApiTools::ServiceImplementation</a>.
Rack&#39;s involvement between the two is really limited to just passing an
instance of the service application subclass to the middleware so it knows
who to “talk to”.</p>
</dd></dl>
<hr>

<pre>23-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>service_context.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Container for information about the context of a call to a service,
including session, request and response.</p>
</dd></dl>
<hr>

<pre>03-Oct-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>service_implementation.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Service authors create subclasses of <a
href="ApiTools/ServiceApplication.html">ApiTools::ServiceApplication</a>,
which lists the one or more subclasses of <a
href="ApiTools/ServiceInterface.html">ApiTools::ServiceInterface</a> the
service author writes; each of those declares an interface which refers,
for each interface endpoint, to a subclass of the class described here.
Service authors create the body of their service implementation within the
subclass.</p>

<p>This file, then, does very little beyond describing the method framework
that service authors use.</p>
</dd></dl>
<hr>

<pre>24-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>service_interface.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>Define a class (and some namespace-nested related support classes) that are
subclassed by service authors and used to declare the nature of the
interface the service implements via a small DSL.</p>
</dd></dl>
<hr>

<pre>23-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>service_request.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>A high level description of a client&#39;s request, with all of the “raw”
Rack request data parsed, verified as far as possible and generally cleaned
up. Instances of this class are given to <a
href="ApiTools/ServiceImplementation.html">ApiTools::ServiceImplementation</a>
methods for each new request.</p>
</dd></dl>
<hr>

<pre>24-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>service_response.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>A high level description of a service&#39;s response to a client&#39;s
request. The middleware constructs instances and fills in some of the data
for every client request, then passes it to <a
href="ApiTools/ServiceImplementation.html">ApiTools::ServiceImplementation</a>
methods so the service can fill in the rest of the data.</p>
</dd></dl>
<hr>

<pre>24-Sep-2014 (ADH): Created.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>service_endpoint.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>A subclass of <a
href="ApiTools/ServiceMiddleware.html">ApiTools::ServiceMiddleware</a> in
order to gain access to middleware protected methods, this code is used for
inter-service calls. Instances of this class are given to service action
implementations through the <code>context</code> variable, through <a
href="ApiTools/ServiceContext.html#method-i-resource">ApiTools::ServiceContext#resource</a>.</p>

<p>This class is almost a private implementation detail of <a
href="ApiTools/ServiceMiddleware.html">ApiTools::ServiceMiddleware</a> and
is namespaced inside it. File “service_middleware.rb” must be
“require”&#39;d first.</p>
</dd></dl>
<hr>

<pre>11-Nov-2014 (ADH): Split out from service_middleware.rb.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>service_registry_drb_server.rb</p>
</dd><dt>(C)
<dd>
<p>Loyalty New Zealand 2014</p>
</dd><dt>Purpose
<dd>
<p>For local development with no wider registration service like MemCache
running, the first service that gets started will bring up a DRb server to
record the location of other services as they start up. The subsequent
services connect to the existing DRb server started by the first.</p>

<p>This class is almost a private implementation detail of <a
href="ApiTools/ServiceMiddleware.html">ApiTools::ServiceMiddleware</a> and
is namespaced inside it. File “service_middleware.rb” must be
“require”&#39;d first.</p>
</dd></dl>
<hr>

<pre>11-Nov-2014 (ADH): Split out from service_middleware.rb.</pre>
<dl class="rdoc-list note-list"><dt>File
<dd>
<p>string_inquirer.rb</p>
</dd><dt>Purpose
<dd>
<p><a href="ApiTools/StringInquirer.html">StringInquirer</a> class copied from
ActiveSupport 4.1.6, to avoid dragging in that huge dependency for this one
thing.</p>
</dd></dl>
<hr>

<pre>02-Oct-2014 (ADH): Copied from ActiveSupport 4.1.6.</pre>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="VERSION">VERSION
        
        <dd><p>The <a href="ApiTools.html">ApiTools</a> gem version.</p>
        
      
      </dl>
    </section>
    

    

    
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

